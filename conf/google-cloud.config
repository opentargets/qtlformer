executor.name = 'google-batch'

google {
    enableRequesterPaysBuckets = true
    location                   = 'europe-west1'
    project                    = 'open-targets-genetics-dev'
    batch {
        spot            = true
        maxSpotAttempts = 1
    }
}

workDir = 'gs://ot_orchestration/qtlformer/test/work'
params {
    input_dir  = "gs://eqtl_catalogue_processed_otar_internal_data/otar2077/GTEx_v10/susie"
    output_dir = "gs://ot_orchestration/qtlformer/test/output"
}

timeline {
    enabled = true
    file    = "${params.output_dir}/pipeline_info/execution_timeline_${params.trace_report_suffix}.html"
}
report {
    enabled = true
    file    = "${params.output_dir}/pipeline_info/execution_report_${params.trace_report_suffix}.html"
}
trace {
    enabled = true
    file    = "${params.output_dir}/pipeline_info/execution_trace_${params.trace_report_suffix}.txt"
}
dag {
    enabled = true
    file    = "${params.output_dir}/pipeline_info/pipeline_dag_${params.trace_report_suffix}.html"
}

process {
    withLabel: regular {
        container   = 'ghcr.io/project-defiant/qtlformer:0.2.4'
        machineType = "n1-standard-4"
        time        = "10m"
        maxRetries  = 1
    }
}
